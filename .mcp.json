{
  "$schema": "https://raw.githubusercontent.com/anthropics/claude-code/main/mcp-schema.json",

  "metadata": {
    "name": "resource-provider-mcp",
    "description": "An MCP server that provides structured contextual resources (contexts, files, and sections) from Markdown and JSON files for AI reasoning.",
    "author": "Krzysztof Surdy",
    "license": "MIT",
    "version": "1.4.0",
    "homepage": "https://github.com/krzysztofsurdy/resource-provider-mcp"
  },

  "tools": {
    "getAvailableResources": {
      "description": "Lists all available resources with pagination, optionally filtered by prefix ID (e.g. 'api'). Returns resources sorted by importance (high → mid → low) then by ID.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "prefix": {
            "type": "string",
            "description": "Filter resources by ID prefix"
          },
          "limit": {
            "type": "number",
            "description": "Number of results per page (default: 15)",
            "minimum": 1
          },
          "page": {
            "type": "number",
            "description": "Page number for pagination (default: 1)",
            "minimum": 1
          }
        },
        "required": []
      },
      "outputSchema": {
        "type": "string",
        "description": "JSON string containing: {resources: Array<{id, name, type, description, whenToLoad, importance}>, limit, page, totalPages, total}"
      }
    },
    "getResourceContent": {
      "description": "Retrieves the full content of a resource by ID. Optionally includes a list of child resources.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The resource ID (e.g. 'api|authentication')"
          },
          "showChildren": {
            "type": "boolean",
            "description": "Include list of child resources (default: false)",
            "default": false
          }
        },
        "required": ["id"]
      },
      "outputSchema": {
        "type": "string",
        "description": "Formatted markdown text with resource name, metadata (description, whenToLoad, importance), content, and optionally children list"
      }
    },
    "findResourceByPhrases": {
      "description": "Searches for resources by phrases with pagination. Uses case-insensitive whole-word matching on name, description, and whenToLoad fields. Returns resources sorted by importance then by ID.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "phrases": {
            "type": "array",
            "items": { "type": "string" },
            "minItems": 1,
            "description": "Array of search terms (matches any phrase with OR logic)"
          },
          "limit": {
            "type": "number",
            "description": "Number of results per page (default: 15)",
            "minimum": 1
          },
          "page": {
            "type": "number",
            "description": "Page number for pagination (default: 1)",
            "minimum": 1
          }
        },
        "required": ["phrases"]
      },
      "outputSchema": {
        "type": "string",
        "description": "JSON string containing: {resources: Array<{id, name, type, description, whenToLoad, importance}>, limit, page, totalPages, total}"
      }
    }
  }
}